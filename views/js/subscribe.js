jQuery(document).ready(function(){var a={init:function(){jQuery(".mmc_button").click(function(c){c.preventDefault();var b=jQuery(this);if(b.hasClass("mmc_follow")||b.hasClass("mmc_pending")){b.removeClass("mmc_follow mmc_pending").addClass("mmc_loading");a.subscribe(b.parents(".mmc_list_row").data("id"),function(e){var d="mmc_unfollow";if(e.status=="pending"){d="mmc_pending"}b.removeClass("mmc_follow mmc_loading").addClass(d)})}else{if(b.hasClass("mmc_unfollow")||b.hasClass("mmc_pending")){b.removeClass("mmc_unfollow mmc_pending").addClass("mmc_loading");a.unsubscribe(b.parents(".mmc_list_row").data("id"),function(e){var d="mmc_follow";if(e.status=="pending"){d="mmc_pending"}b.removeClass("mmc_unfollow mmc_loading").addClass(d)})}}})},subscribe:function(c,b){jQuery.ajax({type:"POST",data:{mmc_ajax:1,mmc_id:c,mmc_action:"subscribe"},success:b})},unsubscribe:function(c,b){jQuery.ajax({type:"POST",data:{mmc_ajax:1,mmc_id:c,mmc_action:"unsubscribe"},success:b})}};a.init()});